<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EchoClass - Real-Time Transcription</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="africa.css">
</head>
<style type="text/css">
body {
  font-family: 'Segoe UI', sans-serif;
  text-align: center;
  padding: 2rem;
  background: #f0f8ff;
}

h1 {
  font-size: 2em;
  color: #333;
}

button {
  padding: 10px 20px;
  margin: 10px;
  font-size: 1rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

#startBtn {
  background-color: #4caf50;
  color: white;
}

#stopBtn {
  background-color: #f44336;
  color: white;
}

#output {
  margin-top: 30px;
  font-size: 1.2rem;
  padding: 20px;
  border: 2px dashed #ccc;
  background: white;
  min-height: 150px;
  width: 90%;
  margin-left: auto;
  margin-right: auto;
  border-radius: 12px;
  color: #222;
}
</style>
<body>
  <h1>EchoClass</h1>
  <p>Offline Voice Transcription for Inclusive Learning</p>
  
  <button id="startBtn">ðŸŽ¤ Start Transcription</button>
  <button id="stopBtn" disabled>ðŸ›‘ Stop</button>

  <div id="output"></div>

  <script>
  let recognition;
  let transcript = '';
  const output = document.getElementById('output');
  const startBtn = document.getElementById('startBtn');
  const stopBtn = document.getElementById('stopBtn');
  
  // Check browser support
  window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  
  if (!window.SpeechRecognition) {
  output.innerHTML = "Sorry, your browser doesn't support speech recognition.";
  startBtn.disabled = true;
  } else {
  recognition = new window.SpeechRecognition();
  recognition.continuous = true;
  recognition.interimResults = true;
  recognition.lang = 'en-US';
  
  recognition.onresult = (e) => {
  let tempTranscript = '';
  for (let i = e.resultIndex; i < e.results.length; ++i) {
  tempTranscript += e.results[i][0].transcript;
  }
  transcript += tempTranscript;
  output.innerText = transcript;
  };
  
  recognition.onend = () => {
  startBtn.disabled = false;
  stopBtn.disabled = true;
  };
  }
  
  // Start
  startBtn.onclick = () => {
  transcript = ''; // Optional: reset text on new session
  recognition.start();
  startBtn.disabled = true;
  stopBtn.disabled = false;
  };
  
  // Stop
  stopBtn.onclick = () => {
  recognition.stop();
  startBtn.disabled = false;
  stopBtn.disabled = true;
  };
  </script>
</body>
</html>